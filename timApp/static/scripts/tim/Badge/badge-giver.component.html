<div class="badge-giver">
    <h2>Badge Giver</h2>

    <div class="user-selection">
        <h3>Select a User</h3>
        <select [(ngModel)]="selectedUser">
            <option *ngFor="let user of users" [ngValue]="user">{{ user.name }}</option>
        </select>
    </div>
    
    <tim-badge-viewer [id]="selectedUser?.id"></tim-badge-viewer>
    <div class="user-badges" *ngIf="selectedUser">
        <h3>Assigned Badges</h3>
        <ul>
            <li *ngFor="let badgeGiven of userBadges">
                <span [style.color]="badgeGiven.badge.color">{{ badgeGiven.badge.title }}</span>
                <button (click)="removeBadge(badgeGiven.badge.id)">Remove</button>
            </li>
        </ul>
    </div>

    <div class="badge-selection">
        <h3>Select a Badge to Assign</h3>
        <select [(ngModel)]="selectedBadge">
            <option *ngFor="let badge of badges" [ngValue]="badge">{{ badge.title }}</option>
        </select>
    </div>

    <div class="message-box">
        <h3>Message to Student</h3>
        <textarea [(ngModel)]="message" placeholder="Enter a message..."></textarea>
    </div>

    <button (click)="assignBadge(message)" [disabled]="!selectedUser || !selectedBadge">Give Badge</button>
</div>